<div role="radiogroup" :aria-label="'Radio options for ' + (label || 'selection')" :aria-describedby="_ariaDescribedBy">
  <template v-for="(option, index) in options">
    <div class="radio radio-icon" :class="{ 'readonly' : readonly }">
      <input
        type="radio"
        :id="name + '-' + index"
        :name="name"
        v-model.lazy="$v.value.$model"
        :value="option.id || option.label"
        :aria-label="'Select ' + (option.label || option.id)"
        :aria-describedby="_ariaDescribedBy"
        :aria-invalid="_ariaInvalid"
        :disabled="readonly"
        tabindex="-1"
      >
      <label v-on:click="readonly ? false : clickHandler(option)">
        <span
          ref="radioButton"
          class="check focus-outline"
          :aria-label="'Select ' + (option.label || option.id)"
          :aria-checked="isOptionSelected(option)"
          role="radio"
          tabindex="0"
          v-on:keydown.right.prevent="readonly ? false : focusHandler(index + 1)"
          v-on:keydown.down.prevent="readonly ? false : focusHandler(index + 1)"
          v-on:keydown.left.prevent="readonly ? false : focusHandler(index - 1)"
          v-on:keydown.up.prevent="readonly ? false : focusHandler(index - 1)"
          v-on:keydown.space.prevent="readonly ? false : focusHandler(index)"
          v-on:keydown.enter.prevent="readonly ? false : focusHandler(index)"
          @blur="onBlur()"
          @focus="onFocus(index)"
        >
          <i class="fa fa-circle" aria-hidden="true"></i>
        </span>
        <span class="option-item">\{{ option.label || option.id }}</span>
      </label>
    </div>
  </template>
</div>

<p class="text-danger" v-if="$v.value.required === false && $v.value.$dirty" role="alert" aria-live="assertive">
  {{T "widgets.form.errors.required"}}
</p>
